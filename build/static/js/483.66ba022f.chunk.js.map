{"version":3,"file":"static/js/483.66ba022f.chunk.js","mappings":"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","sources":["views/ticketregistration/TicketRegistration.js"],"sourcesContent":["/* eslint-disable react/jsx-no-undef */\nimport React, { useEffect, useState } from 'react'\nimport {\n  CButton,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CRow,\n  CFormText,\n} from '@coreui/react'\nimport axios from 'axios'\nimport { useRecoilState } from 'recoil'\nimport { jwtRecoilState, severURLRecoilState } from 'src/recoil'\n\nconst TicketRegistration = () => {\n  const now = new Date()\n  const [IP, setIP] = useRecoilState(severURLRecoilState)\n  const [jwt, setJwt] = useRecoilState(jwtRecoilState)\n\n  const utcNow = now.getTime() + now.getTimezoneOffset() * 60 * 1000 // 현재 시간을 utc로 변환한 밀리세컨드값\n  const koreaTimeDiff = 9 * 60 * 60 * 1000 // 한국 시간은 UTC보다 9시간 빠름(9시간의 밀리세컨드 표현)\n  const koreaNow = new Date(utcNow + koreaTimeDiff) // utc로 변환된 값을 한국 시간으로 변환시키기 위해 9시간(밀리세컨드)를 더함\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n\n  const [name, setName] = useState('')\n  const [userId, setUserId] = useState('')\n  const [phoneNum, setPhoneNum] = useState('')\n  const [point, setPoint] = useState('')\n\n  useEffect(() => {\n    setJwt(localStorage.getItem('jwt-token'))\n  }, [])\n\n  const pointRegistration = async () => {\n    setLoading(true)\n\n    try {\n      // 요청이 시작 할 때에는 error 와 users 를 초기화하고\n      setError(null)\n      // loading 상태를 true 로 바꿉니다.\n      setLoading(true)\n\n      // axios     .defaults     .headers     .common['x-access-token'] = jwt\n\n      const response = await axios\n        .patch(\n          `${IP}/users/point`,\n          {\n            name: name,\n            phoneNumber: phoneNum,\n            point: point,\n            id: userId,\n          },\n          {\n            headers: {\n              'x-access-token': jwt,\n            },\n          },\n        )\n        .then((response) => {\n          if (response.data.code === 1000) {\n            alert(`${name} 포인트 등록 완료`)\n            setName('')\n            setUserId('')\n            setPhoneNum('')\n            setPoint('')\n          } else if (response.data.code === 2023) {\n            alert(`존재하지 않는 유저입니다.`)\n            setName('')\n            setUserId('')\n            setPhoneNum('')\n            setPoint('')\n          } else if (response.data.code === 2002) {\n            alert(`아이디의 길이를 확인해주세요.`)\n            setUserId('')\n          } else if (response.data.code === 2022) {\n            alert(`포인트는 0보다 큰 값을 입력해주세요.`)\n            setPoint('')\n          } else if (response.data.code === 2021) {\n            alert(`포인트를 입력해주세요.`)\n            setPoint('')\n          }\n        })\n        .catch((error) => {})\n    } catch (e) {\n      setError(e)\n    }\n\n    setLoading(false)\n    // loading 끄기\n  }\n\n  const handleKeyPress = (e) => {\n    if (e.key !== 'Enter') {\n    }\n  }\n\n  return (\n    <div>\n      <CForm>\n        <CCardHeader>\n          <strong>포인트 등록 및 수정</strong>\n        </CCardHeader>\n        <CRow className=\"mb-3\">\n          <CFormLabel htmlFor=\"inputDate\" className=\"col-sm-2 col-form-label\">\n            이름\n          </CFormLabel>\n          <CCol sm={10}>\n            <CFormInput\n              value={name}\n              type=\"text\"\n              id=\"inputDate\"\n              placeholder=\"가입한 이름을 입력해주세요.\"\n              onChange={(e) => {\n                setName(e.target.value)\n              }}\n            />\n          </CCol>\n        </CRow>\n        <CRow className=\"mb-3\">\n          <CFormLabel htmlFor=\"inputDate\" className=\"col-sm-2 col-form-label\">\n            아이디\n          </CFormLabel>\n          <CCol sm={10}>\n            <CFormInput\n              value={userId}\n              type=\"text\"\n              id=\"inputDate\"\n              placeholder=\"가입한 아이디를 입력해주세요.\"\n              onChange={(e) => {\n                setUserId(e.target.value)\n              }}\n            />\n          </CCol>\n        </CRow>\n        <CRow className=\"mb-3\">\n          <CFormLabel htmlFor=\"inputDate\" className=\"col-sm-2 col-form-label\">\n            전화번호\n          </CFormLabel>\n          <CCol sm={10}>\n            <CFormInput\n              value={phoneNum}\n              type=\"text\"\n              id=\"inputDate\"\n              placeholder=\"전화번호를 010xxxxxxxx 형식으로 입력해주세요.\"\n              onChange={(e) => {\n                setPhoneNum(e.target.value)\n              }}\n            />\n          </CCol>\n        </CRow>\n        <CRow className=\"mb-3\">\n          <CFormLabel htmlFor=\"inputMenu\" className=\"col-sm-2 col-form-label\">\n            포인트\n          </CFormLabel>\n          <CCol sm={10}>\n            <CFormInput\n              value={point}\n              type=\"text\"\n              id=\"inputMenu\"\n              placeholder=\"등록할 포인트를 입력해주세요.\"\n              onChange={(e) => {\n                setPoint(e.target.value)\n              }}\n            />\n          </CCol>\n        </CRow>\n        <CButton type=\"submit\" onClick={pointRegistration}>\n          등록하기\n        </CButton>\n      </CForm>\n    </div>\n  )\n}\n\nexport default TicketRegistration\n"],"names":["now","Date","useRecoilState","severURLRecoilState","IP","jwtRecoilState","jwt","setJwt","utcNow","getTime","getTimezoneOffset","useState","setLoading","setError","name","setName","userId","setUserId","phoneNum","setPhoneNum","point","setPoint","useEffect","localStorage","getItem","pointRegistration","axios","phoneNumber","id","headers","then","response","data","code","alert","catch","error","className","htmlFor","sm","value","type","placeholder","onChange","e","target","onClick"],"sourceRoot":""}