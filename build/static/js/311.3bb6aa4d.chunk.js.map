{"version":3,"file":"static/js/311.3bb6aa4d.chunk.js","mappings":"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","sources":["views/versionRegistration/VersionRegistration.js"],"sourcesContent":["/* eslint-disable react/jsx-no-undef */\nimport React, { useEffect, useState } from 'react'\nimport {\n  CButton,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CRow,\n  CFormText,\n} from '@coreui/react'\nimport axios from 'axios'\nimport { useRecoilState } from 'recoil'\nimport { jwtRecoilState, severURLRecoilState } from 'src/recoil'\n\nconst VersionRegistration = () => {\n  const now = new Date()\n  const [IP, setIP] = useRecoilState(severURLRecoilState)\n  const [jwt, setJwt] = useRecoilState(jwtRecoilState)\n\n  const utcNow = now.getTime() + now.getTimezoneOffset() * 60 * 1000 // 현재 시간을 utc로 변환한 밀리세컨드값\n  const koreaTimeDiff = 9 * 60 * 60 * 1000 // 한국 시간은 UTC보다 9시간 빠름(9시간의 밀리세컨드 표현)\n  const koreaNow = new Date(utcNow + koreaTimeDiff) // utc로 변환된 값을 한국 시간으로 변환시키기 위해 9시간(밀리세컨드)를 더함\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n\n  const [version, setVersion] = useState('')\n  const [currentVersion, setCurrentVersion] = useState('')\n\n  useEffect(() => {\n    setJwt(localStorage.getItem('jwt-token'))\n    getVeriosn()\n  }, [])\n\n  const veriosnRegistration = async () => {\n    setLoading(true)\n\n    try {\n      // 요청이 시작 할 때에는 error 와 users 를 초기화하고\n      setError(null)\n      // loading 상태를 true 로 바꿉니다.\n      setLoading(true)\n\n      // axios     .defaults     .headers     .common['x-access-token'] = jwt\n\n      const response = await axios\n        .post(\n          `${IP}/versions`,\n          {\n            version: version,\n          },\n          {\n            headers: {\n              'x-access-token': jwt,\n            },\n          },\n        )\n        .then((response) => {\n          if (response.data.code === 1000) {\n            alert(`버전 업데이트 완료`)\n            setCurrentVersion(version)\n          } else {\n            alert(response.data.message)\n          }\n        })\n        .catch((error) => {})\n    } catch (e) {\n      setError(e)\n    }\n\n    setLoading(false)\n    // loading 끄기\n  }\n\n  const getVeriosn = async () => {\n    setLoading(true)\n\n    try {\n      // 요청이 시작 할 때에는 error 와 users 를 초기화하고\n      setError(null)\n      // loading 상태를 true 로 바꿉니다.\n      setLoading(true)\n\n      // axios     .defaults     .headers     .common['x-access-token'] = jwt\n\n      const response = await axios\n        .get(`${IP}/versions`, {\n          headers: {\n            'x-access-token': jwt,\n          },\n        })\n        .then((response) => {\n          if (response.data.code === 1000) {\n            setVersion(response.data.result.version)\n            setCurrentVersion(response.data.result.version)\n          }\n        })\n        .catch((error) => {})\n    } catch (e) {\n      setError(e)\n    }\n\n    setLoading(false)\n    // loading 끄기\n  }\n\n  const handleKeyPress = (e) => {\n    if (e.key !== 'Enter') {\n    }\n  }\n\n  return (\n    <div>\n      <CForm>\n        <CCardHeader>\n          <strong>버전 관리</strong>\n        </CCardHeader>\n        <small>\n          현재 버전은 {currentVersion}입니다. 어플의 업데이트가 완료된 후 새로운 버전을\n          입력해주세요.\n        </small>\n        <CRow className=\"mb-3\">\n          <CFormLabel htmlFor=\"inputMenu\" className=\"col-sm-2 col-form-label\">\n            버전\n          </CFormLabel>\n          <CCol sm={10}>\n            <CFormInput\n              value={version}\n              type=\"text\"\n              id=\"inputMenu\"\n              placeholder=\"등록할 포인트를 입력해주세요.\"\n              onChange={(e) => {\n                setVersion(e.target.value)\n              }}\n            />\n          </CCol>\n        </CRow>\n        <CButton type=\"submit\" onClick={veriosnRegistration}>\n          등록하기\n        </CButton>\n      </CForm>\n    </div>\n  )\n}\n\nexport default VersionRegistration\n"],"names":["now","Date","_useRecoilState","useRecoilState","severURLRecoilState","_useRecoilState2","_slicedToArray","IP","_useRecoilState3","jwtRecoilState","_useRecoilState4","jwt","setJwt","utcNow","getTime","getTimezoneOffset","_useState","useState","_useState2","setLoading","_useState3","_useState4","setError","_useState5","_useState6","version","setVersion","_useState7","_useState8","currentVersion","setCurrentVersion","useEffect","localStorage","getItem","getVeriosn","veriosnRegistration","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","axios","concat","headers","then","response","data","code","alert","message","catch","error","sent","t0","stop","apply","arguments","_ref2","_callee2","_context2","result","_jsx","children","_jsxs","CForm","CCardHeader","CRow","className","CFormLabel","htmlFor","CCol","sm","CFormInput","value","type","id","placeholder","onChange","e","target","CButton","onClick"],"sourceRoot":""}