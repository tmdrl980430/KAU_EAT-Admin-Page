(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[379],{35379:function(e,t,n){"use strict";n.r(t);var o=n(74165),a=n(15861),r=n(70885),c=n(72791),s=n(78983),i=n(74569),u=n.n(i),l=n(75330),f=n(94636),d=(n(64802),n(80184));t.default=function(){var e=(0,l.FV)(f.cF),t=(0,r.Z)(e,2),n=t[0],i=(t[1],(0,l.FV)(f.mm)),p=(0,r.Z)(i,2),v=p[0],m=p[1],h=(0,c.useState)(!1),w=(0,r.Z)(h,2),b=(w[0],w[1]),g=(0,c.useState)(null),y=(0,r.Z)(g,2),k=(y[0],y[1]),x=(0,c.useState)(null),j=(0,r.Z)(x,2),S=j[0],_=j[1],E=(0,c.useState)(1),Z=(0,r.Z)(E,2),L=Z[0],R=Z[1],A=(0,c.useState)(1),T=(0,r.Z)(A,2),O=T[0],U=T[1],C=(0,c.useState)(""),M=(0,r.Z)(C,2),B=(M[0],M[1],(0,c.useState)("")),D=(0,r.Z)(B,2),F=(D[0],D[1]),H=(0,c.useState)(""),I=(0,r.Z)(H,2),N=(I[0],I[1]),q=(0,c.useState)(""),V=(0,r.Z)(q,2),X=(V[0],V[1]),G=(0,c.useState)(""),K=(0,r.Z)(G,2),W=(K[0],K[1]);(0,c.useEffect)((function(){m(localStorage.getItem("jwt-token"))}),[]),(0,c.useEffect)((function(){z()}),[v,L]),(0,c.useEffect)((function(){null!=S&&0!=S.length?(F(S[0].idx),N(S[0].id),X(S[0].userName),W(S[0].useDate)):(F(),N(""),X(""),W(""))}),[S]);var z=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,k(null),b(!0),e.next=6,u().get("".concat(n,"/mealtickets/used?page=").concat(L),{headers:{"x-access-token":localStorage.getItem("jwt-token")}}).then((function(e){1e3===e.data.code&&(_(e.data.result.mealTickets),e.data.result.totalCount%20>0?U(parseInt(e.data.result.totalCount/20)+1):U(parseInt(e.data.result.totalCount/20)))})).catch((function(e){}));case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),k(e.t0);case 12:b(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return(0,d.jsx)("div",{children:(0,d.jsxs)(s.lx,{children:[(0,d.jsx)(s.bn,{children:(0,d.jsx)("strong",{children:"\uc2dd\uad8c \uc0ac\uc6a9 \ub0b4\uc5ed \uc870\ud68c\ud558\uae30"})}),(0,d.jsx)(s.rb,{children:(0,d.jsx)(s.Sx,{columns:[{key:"idx",label:"\uc0ac\uc6a9\ubc88\ud638",_props:{scope:"col"}},{key:"userName",label:"\uc774\ub984",_props:{scope:"col"}},{key:"mealTypeName",label:"\uc0ac\uc6a9\uba54\ub274",_props:{scope:"col"}},{key:"usedDate",label:"\uc0ac\uc6a9\ub0a0\uc9dc",_props:{scope:"col"}}],items:S,striped:!0,hover:!0})}),O>1&&(0,d.jsxs)("div",{children:[(0,d.jsx)(s.u5,{type:"button",onClick:function(){L-1===0?alert("\uccab \ud398\uc774\uc9c0 \uc785\ub2c8\ub2e4."):R(L-1)},children:"\uc774\uc804"}),(0,d.jsx)("span",{children:" "}),(0,d.jsx)(s.u5,{type:"button",onClick:function(){L+1>O?alert("\ub9c8\uc9c0\ub9c9 \ud398\uc774\uc9c0 \uc785\ub2c8\ub2e4."):R(L+1)},children:"\ub2e4\uc74c"})]})]})})}},64802:function(e,t,n){var o,a,r;a=[],o=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){i(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(o){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=c.URL||c.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?r(i):a(i.href)?o(e,t,n):r(i,i.target="_blank")):(i.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(i.href)}),4e4),setTimeout((function(){r(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,c){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,c),n);else if(a(e))o(e,n,c);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){r(s)}))}}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,n);var r="application/octet-stream"===e.type,i=/constructor/i.test(c.HTMLElement)||c.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||r&&i||s)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},l.readAsDataURL(e)}else{var f=c.URL||c.webkitURL,d=f.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout((function(){f.revokeObjectURL(d)}),4e4)}});c.saveAs=i.saveAs=i,e.exports=i},void 0===(r="function"===typeof o?o.apply(t,a):o)||(e.exports=r)}}]);
//# sourceMappingURL=379.eba9554c.chunk.js.map