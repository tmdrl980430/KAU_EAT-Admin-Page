{"version":3,"file":"static/js/517.b0062bdd.chunk.js","mappings":"4SAsPA,UAjOuB,WACrB,IAAMA,EAAM,IAAIC,KAEhB,GAAoBC,EAAAA,EAAAA,IAAeC,EAAAA,IAAoB,eAAhDC,EAAE,KACT,GADgB,MACMF,EAAAA,EAAAA,IAAeG,EAAAA,KAAe,eAAxCC,GAAF,KAAQ,MAEZC,EAASP,EAAIQ,UAAsC,GAA1BR,EAAIS,oBAA2B,IAExDC,EAAW,IAAIT,KAAKM,EADJ,OAEtB,GAA8BI,EAAAA,EAAAA,WAAS,GAAM,eAA7BC,GAAF,KAAY,MAC1B,GAA0BD,EAAAA,EAAAA,UAAS,MAAK,eAA1BE,GAAF,KAAU,MAEtB,GAAgDF,EAAAA,EAAAA,UAAS,IAAG,eAArDG,EAAgB,KAAEC,EAAmB,KAG1CC,OAAON,EAASO,eAEhBD,OAAON,EAASQ,WAAa,GAAGC,SAAS,EAAG,KAE5CH,OAAON,EAASU,WAAWD,SAAS,EAAG,MAEzCE,EAAAA,EAAAA,YAAU,WACRC,GACF,GAAG,KAEHD,EAAAA,EAAAA,YAAU,WACRf,EAAOiB,aAAaC,QAAQ,aAC9B,GAAG,IAEH,IAAIC,EAAc,CAChBC,MAAO,UACPC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,GAGNC,EAAO,GAELd,EAAc,yCAAG,mFAMH,OALlBV,GAAW,GAAK,SAGdC,EAAS,MAETD,GAAW,GAAK,SAEOyB,IAAAA,IAChB,GAAD,OAAIjC,EAAE,qBAAqB,CAC7BkC,QAAS,CACP,iBAAkBf,aAAaC,QAAQ,gBAG1Ce,MAAK,SAACC,GACL,GAA2B,MAAvBA,EAASC,KAAKC,KAAe,CAC/BN,EAAO,GACP,IAAK,IAAIO,EAAI,EAAGA,EAAIH,EAASC,KAAKG,OAAOC,sBAAsBC,OAAQH,IACrElB,EAAYC,MAAK,UAAMc,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGI,MAAK,UACR,IAA9DP,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGK,YAChDvB,EAAYE,OAASa,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGM,MACI,IAA9DT,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGK,YACvDvB,EAAYG,OAASY,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGM,MACI,IAA9DT,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGK,YACvDvB,EAAYI,OAASW,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGM,MACI,IAA9DT,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGK,YACvDvB,EAAYK,OAASU,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGM,MACI,IAA9DT,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGK,YACvDvB,EAAYM,OAASS,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGM,MACI,IAA9DT,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGK,YACvDvB,EAAYO,OAASQ,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGM,MACI,IAA9DT,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGK,YACvDvB,EAAYQ,OAASO,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGM,MACI,IAA9DT,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGK,YACvDvB,EAAYS,OAASM,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGM,MACI,IAA9DT,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGK,cACvDvB,EAAYU,OAASK,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGM,OAGnEN,EAAIH,EAASC,KAAKG,OAAOC,sBAAsBC,OAAS,GACxDN,EAASC,KAAKG,OAAOC,sBAAsBF,GAAGI,OAC5CP,EAASC,KAAKG,OAAOC,sBAAsBF,EAAI,GAAGI,OAEpDX,EAAKc,KAAK,CACRxB,MAAOD,EAAYC,MACnBC,OAAQF,EAAYE,OACpBC,OAAQH,EAAYG,OACpBC,OAAQJ,EAAYI,OACpBC,OAAQL,EAAYK,OACpBC,OAAQN,EAAYM,OACpBC,OAAQP,EAAYO,OACpBC,OAAQR,EAAYQ,OACpBC,OAAQT,EAAYS,OACpBC,OAAQV,EAAYU,SAEtBV,EAAc,CACZC,MAAO,UACPC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,IAEDQ,GAAKH,EAASC,KAAKG,OAAOC,sBAAsBC,OAAS,GAClEV,EAAKc,KAAK,CACRxB,MAAOD,EAAYC,MACnBC,OAAQF,EAAYE,OACpBC,OAAQH,EAAYG,OACpBC,OAAQJ,EAAYI,OACpBC,OAAQL,EAAYK,OACpBC,OAAQN,EAAYM,OACpBC,OAAQP,EAAYO,OACpBC,OAAQR,EAAYQ,OACpBC,OAAQT,EAAYS,OACpBC,OAAQV,EAAYU,SAI1BpB,GAAoB,OAAIqB,GAC1B,CACF,IACCe,OAAM,SAACC,GAAW,IAAE,OA7ET,uDA+EdvC,EAAS,EAAD,IAAG,QAEbD,GAAW,GACX,yDACD,kBA3FmB,mCA6FpB,OACE,0BACE,SAAC,KAAK,WACJ,SAAC,KAAI,WACH,SAAC,KAAI,WACH,UAAC,KAAK,CAACyC,UAAU,OAAM,WACrB,SAAC,KAAW,2DACXvC,EAAiBwC,KAAI,SAACC,EAAMC,GAAK,OAChC,iBAAKH,UAAU,sBAAqB,WAClC,gBAAKA,UAAU,yBAAwB,UACrC,iBAAMA,UAAU,6BAA4B,SAAEE,EAAK7B,WAErD,gBAAK2B,UAAU,sBAAqB,UAClC,SAAC,KAAS,WACR,UAAC,KAAI,YACH,SAAC,KAAI,WACH,UAAC,KAAI,YACH,SAAC,KAAI,CAACI,GAAI,EAAE,UACV,iBAAKJ,UAAU,6DAA4D,WACzE,gBAAKA,UAAU,6BAA4B,2BAC3C,gBAAKA,UAAU,mBAAkB,SAAEE,EAAK5B,eAG5C,SAAC,KAAI,CAAC8B,GAAI,EAAE,UACV,iBAAKJ,UAAU,0DAAyD,WACtE,gBAAKA,UAAU,6BAA4B,0CAC3C,gBAAKA,UAAU,mBAAkB,SAAEE,EAAK3B,eAG5C,SAAC,KAAI,CAAC6B,GAAI,EAAE,UACV,iBAAKJ,UAAU,6DAA4D,WACzE,gBAAKA,UAAU,6BAA4B,0CAC3C,gBAAKA,UAAU,mBAAkB,SAAEE,EAAK1B,eAG5C,SAAC,KAAI,CAAC4B,GAAI,EAAE,UACV,iBAAKJ,UAAU,4DAA2D,WACxE,gBAAKA,UAAU,6BAA4B,mCAC3C,gBAAKA,UAAU,mBAAkB,SAAEE,EAAKzB,eAG5C,SAAC,KAAI,CAAC2B,GAAI,EAAE,UACV,iBAAKJ,UAAU,6DAA4D,WACzE,gBAAKA,UAAU,6BAA4B,2BAC3C,gBAAKA,UAAU,mBAAkB,SAAEE,EAAKxB,oBAKhD,UAAC,KAAI,YACH,SAAC,KAAI,CAAC0B,GAAI,EAAE,UACV,iBAAKJ,UAAU,6DAA4D,WACzE,gBAAKA,UAAU,6BAA4B,2BAC3C,gBAAKA,UAAU,mBAAkB,SAAEE,EAAKvB,eAG5C,SAAC,KAAI,CAACyB,GAAI,EAAE,UACV,iBAAKJ,UAAU,4DAA2D,WACxE,gBAAKA,UAAU,6BAA4B,2BAC3C,gBAAKA,UAAU,mBAAkB,SAAEE,EAAKtB,eAG5C,SAAC,KAAI,CAACwB,GAAI,EAAE,UACV,iBAAKJ,UAAU,6DAA4D,WACzE,gBAAKA,UAAU,6BAA4B,iCAC3C,gBAAKA,UAAU,mBAAkB,SAAEE,EAAKrB,eAG5C,SAAC,KAAI,CAACuB,GAAI,EAAE,UACV,iBAAKJ,UAAU,6DAA4D,WACzE,gBAAKA,UAAU,6BAA4B,2BAC3C,gBAAKA,UAAU,mBAAkB,SAAEE,EAAKpB,0BA/DZqB,EAsEpC,cAQtB,C","sources":["views/monthDashBoard/monthDashBoard.js"],"sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\n/* eslint-disable react/jsx-no-undef */\nimport React, { useEffect, useState } from 'react'\nimport {\n  CButton,\n  CCardHeader,\n  CCol,\n  CForm,\n  CFormInput,\n  CFormLabel,\n  CRow,\n  CFormText,\n  CCard,\n  CCardBody,\n  CProgress,\n  CProgressBar,\n} from '@coreui/react'\nimport axios from 'axios'\nimport { useRecoilState } from 'recoil'\nimport { jwtRecoilState, severURLRecoilState } from 'src/recoil'\n\nconst monthDashBoard = () => {\n  const now = new Date()\n\n  const [IP, setIP] = useRecoilState(severURLRecoilState)\n  const [jwt, setJwt] = useRecoilState(jwtRecoilState)\n\n  const utcNow = now.getTime() + now.getTimezoneOffset() * 60 * 1000 // 현재 시간을 utc로 변환한 밀리세컨드값\n  const koreaTimeDiff = 9 * 60 * 60 * 1000 // 한국 시간은 UTC보다 9시간 빠름(9시간의 밀리세컨드 표현)\n  const koreaNow = new Date(utcNow + koreaTimeDiff) // utc로 변환된 값을 한국 시간으로 변환시키기 위해 9시간(밀리세컨드)를 더함\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n\n  const [groupByMonthList, setGroupByMonthList] = useState([])\n\n  const today =\n    String(koreaNow.getFullYear()) +\n    '-' +\n    String(koreaNow.getMonth() + 1).padStart(2, '0') +\n    '-' +\n    String(koreaNow.getDate()).padStart(2, '0')\n\n  useEffect(() => {\n    getYearTickets()\n  }, [])\n\n  useEffect(() => {\n    setJwt(localStorage.getItem('jwt-token'))\n  }, [])\n\n  let basicObject = {\n    title: '0월',\n    value1: 0,\n    value2: 0,\n    value3: 0,\n    value4: 0,\n    value5: 0,\n    value6: 0,\n    value7: 0,\n    value8: 0,\n    value9: 0,\n  }\n\n  let temp = []\n\n  const getYearTickets = async () => {\n    setLoading(true)\n    try {\n      // 요청이 시작 할 때에는 error 와 users 를 초기화하고\n      setError(null)\n      // loading 상태를 true 로 바꿉니다.\n      setLoading(true)\n\n      const response = await axios\n        .get(`${IP}/mealtickets/year`, {\n          headers: {\n            'x-access-token': localStorage.getItem('jwt-token'),\n          },\n        })\n        .then((response) => {\n          if (response.data.code === 1000) {\n            temp = []\n            for (let i = 0; i < response.data.result.usedMealTicketsByYear.length; i++) {\n              basicObject.title = `${response.data.result.usedMealTicketsByYear[i].month}월`\n              if (response.data.result.usedMealTicketsByYear[i].mealTypeIdx === 1) {\n                basicObject.value1 = response.data.result.usedMealTicketsByYear[i].count\n              } else if (response.data.result.usedMealTicketsByYear[i].mealTypeIdx === 2) {\n                basicObject.value2 = response.data.result.usedMealTicketsByYear[i].count\n              } else if (response.data.result.usedMealTicketsByYear[i].mealTypeIdx === 3) {\n                basicObject.value3 = response.data.result.usedMealTicketsByYear[i].count\n              } else if (response.data.result.usedMealTicketsByYear[i].mealTypeIdx === 4) {\n                basicObject.value4 = response.data.result.usedMealTicketsByYear[i].count\n              } else if (response.data.result.usedMealTicketsByYear[i].mealTypeIdx === 5) {\n                basicObject.value5 = response.data.result.usedMealTicketsByYear[i].count\n              } else if (response.data.result.usedMealTicketsByYear[i].mealTypeIdx === 6) {\n                basicObject.value6 = response.data.result.usedMealTicketsByYear[i].count\n              } else if (response.data.result.usedMealTicketsByYear[i].mealTypeIdx === 7) {\n                basicObject.value7 = response.data.result.usedMealTicketsByYear[i].count\n              } else if (response.data.result.usedMealTicketsByYear[i].mealTypeIdx === 8) {\n                basicObject.value8 = response.data.result.usedMealTicketsByYear[i].count\n              } else if (response.data.result.usedMealTicketsByYear[i].mealTypeIdx === 9) {\n                basicObject.value9 = response.data.result.usedMealTicketsByYear[i].count\n              }\n              if (\n                i < response.data.result.usedMealTicketsByYear.length - 1 &&\n                response.data.result.usedMealTicketsByYear[i].month !=\n                  response.data.result.usedMealTicketsByYear[i + 1].month\n              ) {\n                temp.push({\n                  title: basicObject.title,\n                  value1: basicObject.value1,\n                  value2: basicObject.value2,\n                  value3: basicObject.value3,\n                  value4: basicObject.value4,\n                  value5: basicObject.value5,\n                  value6: basicObject.value6,\n                  value7: basicObject.value7,\n                  value8: basicObject.value8,\n                  value9: basicObject.value9,\n                })\n                basicObject = {\n                  title: '0월',\n                  value1: 0,\n                  value2: 0,\n                  value3: 0,\n                  value4: 0,\n                  value5: 0,\n                  value6: 0,\n                  value7: 0,\n                  value8: 0,\n                  value9: 0,\n                }\n              } else if (i == response.data.result.usedMealTicketsByYear.length - 1) {\n                temp.push({\n                  title: basicObject.title,\n                  value1: basicObject.value1,\n                  value2: basicObject.value2,\n                  value3: basicObject.value3,\n                  value4: basicObject.value4,\n                  value5: basicObject.value5,\n                  value6: basicObject.value6,\n                  value7: basicObject.value7,\n                  value8: basicObject.value8,\n                  value9: basicObject.value9,\n                })\n              }\n            }\n            setGroupByMonthList([...temp])\n          }\n        })\n        .catch((error) => {})\n    } catch (e) {\n      setError(e)\n    }\n    setLoading(false)\n    // loading 끄기\n  }\n\n  return (\n    <div>\n      <CForm>\n        <CRow>\n          <CCol>\n            <CCard className=\"mb-4\">\n              <CCardHeader>월별 식권 사용량</CCardHeader>\n              {groupByMonthList.map((item, index) => (\n                <div className=\"progress-group mb-4\" key={index}>\n                  <div className=\"progress-group-prepend\">\n                    <span className=\"text-medium-emphasis small\">{item.title}</span>\n                  </div>\n                  <div className=\"progress-group-bars\">\n                    <CCardBody>\n                      <CRow>\n                        <CCol>\n                          <CRow>\n                            <CCol sm={6}>\n                              <div className=\"border-start border-start-4 border-start-success py-1 px-3\">\n                                <div className=\"text-medium-emphasis small\">조식</div>\n                                <div className=\"fs-5 fw-semibold\">{item.value1}</div>\n                              </div>\n                            </CCol>\n                            <CCol sm={6}>\n                              <div className=\"border-start border-start-4 border-start-info py-1 px-3\">\n                                <div className=\"text-medium-emphasis small\">중식 | 일품</div>\n                                <div className=\"fs-5 fw-semibold\">{item.value2}</div>\n                              </div>\n                            </CCol>\n                            <CCol sm={6}>\n                              <div className=\"border-start border-start-4 border-start-warning py-1 px-3\">\n                                <div className=\"text-medium-emphasis small\">중식 | 한식</div>\n                                <div className=\"fs-5 fw-semibold\">{item.value3}</div>\n                              </div>\n                            </CCol>\n                            <CCol sm={6}>\n                              <div className=\"border-start border-start-4 border-start-danger py-1 px-3\">\n                                <div className=\"text-medium-emphasis small\">중식(면)</div>\n                                <div className=\"fs-5 fw-semibold\">{item.value4}</div>\n                              </div>\n                            </CCol>\n                            <CCol sm={6}>\n                              <div className=\"border-start border-start-4 border-start-primary py-1 px-3\">\n                                <div className=\"text-medium-emphasis small\">석식</div>\n                                <div className=\"fs-5 fw-semibold\">{item.value5}</div>\n                              </div>\n                            </CCol>\n                          </CRow>\n                        </CCol>\n                        <CRow>\n                          <CCol sm={6}>\n                            <div className=\"border-start border-start-4 border-start-warning py-1 px-3\">\n                              <div className=\"text-medium-emphasis small\">라면</div>\n                              <div className=\"fs-5 fw-semibold\">{item.value6}</div>\n                            </div>\n                          </CCol>\n                          <CCol sm={6}>\n                            <div className=\"border-start border-start-4 border-start-danger py-1 px-3\">\n                              <div className=\"text-medium-emphasis small\">김밥</div>\n                              <div className=\"fs-5 fw-semibold\">{item.value7}</div>\n                            </div>\n                          </CCol>\n                          <CCol sm={6}>\n                            <div className=\"border-start border-start-4 border-start-primary py-1 px-3\">\n                              <div className=\"text-medium-emphasis small\">핫도그</div>\n                              <div className=\"fs-5 fw-semibold\">{item.value8}</div>\n                            </div>\n                          </CCol>\n                          <CCol sm={6}>\n                            <div className=\"border-start border-start-4 border-start-primary py-1 px-3\">\n                              <div className=\"text-medium-emphasis small\">치킨</div>\n                              <div className=\"fs-5 fw-semibold\">{item.value9}</div>\n                            </div>\n                          </CCol>\n                        </CRow>\n                      </CRow>\n                    </CCardBody>\n                  </div>\n                </div>\n              ))}\n            </CCard>\n          </CCol>\n        </CRow>\n      </CForm>\n    </div>\n  )\n}\n\nexport default monthDashBoard\n"],"names":["now","Date","useRecoilState","severURLRecoilState","IP","jwtRecoilState","setJwt","utcNow","getTime","getTimezoneOffset","koreaNow","useState","setLoading","setError","groupByMonthList","setGroupByMonthList","String","getFullYear","getMonth","padStart","getDate","useEffect","getYearTickets","localStorage","getItem","basicObject","title","value1","value2","value3","value4","value5","value6","value7","value8","value9","temp","axios","headers","then","response","data","code","i","result","usedMealTicketsByYear","length","month","mealTypeIdx","count","push","catch","error","className","map","item","index","sm"],"sourceRoot":""}